
<div class="flex flex-col">
  <!-- Close Button -->
  <div class="flex items-center justify-between px-2 py-1 bg-gray-100">
    <span class="text-lg">
      PM Info
    </span>
    <button
      mat-icon-button
      (click)="close()"
      [matTooltip]="'Cancel'"
    >
      <mat-icon
        class="icon-size-5 text-current"
        [svgIcon]="'heroicons_solid:x'"></mat-icon>
    </button>
  </div>
  <!-- Info Cards -->
  <div class="flex text-sm p-2 cursor-pointer">
    <div class="flex flex-col p-1 m-1 bg-card rounded border border-green-500 text-green-500 hover:text-white hover:bg-green-500">
      <span class="uppercase">
        total time
      </span>
      <span class="font-semibold">
        {{countTaskInfo.taskTotalTime}}
      </span>
    </div>
    <div class="flex flex-col p-1 m-1 bg-card rounded border border-blue-500 text-blue-500 hover:text-white hover:bg-blue-500">
      <span class="uppercase">
        total
      </span>
      <span class="font-semibold">
        {{countTaskInfo.taskTotals[0].total}}
      </span>
    </div>
    <div class="flex flex-col p-1 m-1 bg-card rounded border border-blue-500 text-blue-500 hover:text-white hover:bg-blue-500">
      <span class="uppercase">
        tasks
      </span>
      <span class="font-semibold">
        {{countTaskInfo.taskTotals[0].counttasks}}
      </span>
    </div>
    <div class="flex flex-col p-1 m-1 bg-card rounded border border-blue-500 text-blue-500 hover:text-white hover:bg-blue-500">
      <span class="uppercase">
        sub pr
      </span>
      <span class="font-semibold">
        {{countTaskInfo.taskTotals[0].countsubprojects}}
      </span>
    </div>
    <div class="flex flex-col p-1 m-1 bg-card rounded border border-red-500 text-red-500 hover:text-white hover:bg-red-500">
      <span class="uppercase">
        tickets
      </span>
      <span class="font-semibold">
        {{countTaskInfo.taskTotals[0].counttickets}}
      </span>
    </div>
    <div class="flex flex-col p-1 m-1 bg-card rounded border border-yellow-500 text-yellow-500 hover:text-white hover:bg-yellow-500">
      <span class="uppercase">
        users
      </span>
      <span class="font-semibold">
        {{countTaskInfo.taskTotals[0].countassigned}}
      </span>
    </div>
    <div class="flex flex-col p-1 m-1 bg-card rounded border border-yellow-500 text-yellow-500 hover:text-white hover:bg-yellow-500">
      <span class="uppercase">
        owners
      </span>
      <span class="font-semibold">
        {{countTaskInfo.taskTotals[0].countowner}}
      </span>
    </div>
  </div>
  <!-- Task Type cards -->
  <div class="p-2 grid grid-cols-4 gap-1 sm:gap-2" *ngIf="totalCountByType[selectedStatus]">
    <ng-container *ngFor="let card of totalCountByType[selectedStatus]">
      <pm-task-card
        [status]="card.Status"
        [type]="card.Type"
        [count]="card.count"
        (clickCard)="onTaskCardClick(card.Status, card.Type)"
        [selected]="isCardSelected(card.Status, card.Type)"
      ></pm-task-card>
    </ng-container>
  </div>
</div>
